<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Utilities</title>
  <link rel="icon" type="image/x-icon" href="/media/icons/favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2XEFG8CYTH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2XEFG8CYTH');
</script>

  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/navbar.css">

</head>

<body>

    <div class="navbar">
      <button onclick="window.location.href='index.html'">
        <img
          src="/media/icons/rubyarcade.png"
          alt="Ruby Games Logo"
          class="logo"
          width="125vh"
          height="27vh"
        />
      </button>
      
      <div class="navbar-right">
        <button onclick="window.location.href='index.html'">
          <img src="/media/icons/home.png" width="27hh" />
        </button>
        <button onclick="window.location.href='games.html'">
          <img src="/media/icons/games.png" width="27hh" />
        </button>
        <button onclick="window.location.href='apps.html'">
          <img src="/media/icons/apps.png" width="27hh" />
        </button>
        
        <button onclick="window.location.href='utilities.html'">
          <img src="/media/icons/utilities.png" width="27hh" />
        </button>
        <button onclick="window.location.href='search.html'">
          <img src="/media/icons/search.png" width="27hh" />
        </button>
      </div>
    </div>
  


<center>
   <iframe src="https://useamethyst.vercel.app/index.html" width="95%" height="700" style="border: 2px solid rgb(0, 0, 0); border-radius: 8px; margin-top: 10vh;">
</iframe>
</center>

  <section id="gameLoaderSection" style="display: none;">
    <div id="gameLoaderContainer">
      <iframe id="gameFrame" src="" frameborder="0"></iframe>
    </div>
    <div class="gameBar">
      <div class="gameBarButton" onclick="removeGameLoader()">
        <img src="/media/icons/remove.png" width="20px" alt="Remove Game Loader">
      </div>
      <img src="/media/icons/ruby.png" width="20px">
      <div class="button-group">
        <div class="gameBarButton" onclick="refreshGame()">
          <img src="/media/icons/refresh.png" width="20px" alt="Refresh">
        </div>
        <div class="gameBarButton" onclick="toggleFullscreen()">
          <img src="/media/icons/fullscreen.png" width="20px" alt="Fullscreen">
        </div>


      </div>
    </div>
  </section>

<script>    

function loadGame(url) {
      var gameFrame = document.getElementById('gameFrame');
      gameFrame.src = url;

      // Show the game loader section
      var gameLoaderSection = document.getElementById('gameLoaderSection');
      gameLoaderSection.style.display = 'flex';

      // Scroll to game loader section
      gameLoaderSection.scrollIntoView({behavior: 'smooth'});
    }

    // Function to toggle fullscreen mode
    function toggleFullscreen() {
      var gameFrame = document.getElementById('gameFrame');
      if (!document.fullscreenElement) {
        gameFrame.requestFullscreen();
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
    }
    function removeGameLoader() {
      var gameLoaderSection = document.getElementById('gameLoaderSection');
      gameLoaderSection.style.display = 'none';
    }
    
    function refreshGame() {
    var gameFrame = document.getElementById("gameFrame");
    var currentSrc = gameFrame.src;
    gameFrame.src = "";
    setTimeout(function() {
        gameFrame.src = currentSrc;
    }, 100); 
}


const buttons = document.querySelectorAll(".btn");

buttons.forEach((button) => {
  button.addEventListener("mousemove", (e) => {
    const rect = button.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const centerX = rect.width / 2;
    const centerY = rect.height / 2;
    const deltaX = (x - centerX) / centerX;
    const deltaY = (y - centerY) / centerY;
    const offsetX = deltaX * 10; // Adjust the scale factor as needed
    const offsetY = deltaY * 10; // Adjust the scale factor as needed
    const scale = 1.2;
    const img = button.querySelector("img");
    img.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(${scale})`;
  });

  button.addEventListener("mouseleave", () => {
    const img = button.querySelector("img");
    img.style.transform = "translate(0, 0) scale(1)";
  });
});

const btn = document.querySelector(".btn");

btn.addEventListener("mousemove", (e) => {
  const rect = btn.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  btn.style.backgroundImage = `radial-gradient(circle at ${x}px ${y}px, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, 0.8) 100%)`;
});

btn.addEventListener("mouseleave", () => {
  btn.style.backgroundImage = "";
});
  
  </script>
</body>

</html>